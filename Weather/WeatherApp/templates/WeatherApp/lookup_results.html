{% extends 'WeatherApp/base.html' %}

{% block content %}
<div class="p-3 text-primary-emphasis bg-primary-subtle border border-primary-subtle rounded-3">
 <div class="p-3 text-primary-emphasis bg-warning-subtle border border-primary-subtle rounded-3">
      {% if result.is_authenticated %}
      <p>Hey,{{result.username}}</p>
      {% endif %}
 </div>
    <div class="row align-items-start">
      {%if result.locations %}
        {% for location in result.locations %}

            <div class="col">
                <div class="p-3 text-primary-emphasis bg-warning-subtle border border-primary-subtle rounded-3">
                <h3>{{location.name}}</h3>
                <ul>Latitude: {{location.lat |truncatechars:6}}</ul>
                <ul>Longitude: {{location.lon |truncatechars:6}}</ul>
                <ul>Country: {{location.country}}</ul>
                {% if result.is_authenticated %}
                    <form action="/profile/" method="post">
                        <input type="hidden" name="location_name" value="{{location.name}}">
                        <input type="hidden" name="latitude" value="{{location.lat}}">
                        <input type="hidden" name="longitude" value="{{location.lon}}">
                        <input type="hidden" name="country" value="{{location.country}}">

                        <input type="submit" value="Save location">
                    </form>
                {% endif %}
                </div>
            </div>

        {% endfor %}
      {% else %}
      Sorry, we were not able to find any location matching your request "{{result.location_name}}".
      {%endif%}
</div>
</div>
{% endblock %}
